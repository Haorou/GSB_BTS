
@{
    ViewBag.Title = "FicheFrais";
}

<h2>FicheFrais</h2>

<div class="container">
    <h2 id="employe" data-id="@ViewBag.Employe.Id">Fiches Frais de @ViewBag.Employe.Prenom @ViewBag.Employe.Nom</h2>
    <p>Consultation de vos Fiches frais</p>
    <table class="table table-hover">
        <thead>
            <tr>
                <td>
                    <button type="submit" class="btn btn-warning" name="retour" onclick="history.go(-1)">
                        <span class="glyphicon glyphicon-backward"></span> Retour
                    </button>
                </td>
                <td>
                    <button type="submit" class="btn btn-primary buttonModal" data-toggle="modal" data-target="#RDVModal" data-action="add"><span class="glyphicon glyphicon-plus-sign"></span>Ajouter</button>
                </td>
                <td>
                    <button type="submit" class="btn btn-success buttonModal" data-toggle="modal" data-target="#RDVModal" data-action="modify"><span class="glyphicon glyphicon-edit"></span>Modifier</button>
                </td>
                <td>
                    <button type="submit" class="btn btn-warning" id="eraseRDV" data-toggle="modal"><span class="glyphicon glyphicon-trash"></span>Supprimer</button>
                </td>
            </tr>
            <tr>
                <th class="modal_RDV_form">Choix</th>
                <th class="modal_RDV_form">Date création</th>
                <th class="modal_RDV_form">Date modification</th>
                <th class="modal_RDV_form">Date Engagement</th>
                <th class="modal_RDV_form">Type Frais</th>
                <th class="modal_RDV_form">Type</th>
                <th class="modal_RDV_form">Libelle</th>
                <th class="modal_RDV_form">Montant</th>

            </tr>
        </thead>
        <tbody>
            @{
                var mesFichesFrais = ViewBag.MesFichesFrais;
                int tailleMesFichesFrais = mesFichesFrais.Count;

                for (int index = 0; index < tailleMesFichesFrais; index++)
                {
                    var dateFiche = mesFichesFrais[index].FicheFrais.Date_fiche.ToShortDateString();
                    var dateEngage = mesFichesFrais[index].Date_engagement.ToShortTimeString();
                    var dateModif = mesFichesFrais[index].FicheFrais.Date_modification == null ? "": mesFichesFrais[index].FicheFrais.Date_modification.ToShortDateString();

            <tr>
                <th class="modal_RDV_form">
                    <input checked type="radio" aria-label="" name="rdv_futurs_radio" value="@mesFichesFrais[index].FicheFrais.Id_fiche_frais" data-id="@mesFichesFrais[index].FicheFrais.Id_fiche_frais">
                </th>
                <th class="modal_RDV_form">@dateFiche</th>
                <th class="modal_RDV_form">@dateModif</th>
                <th class="modal_RDV_form">@dateEngage</th>
                <th class="modal_RDV_form">@mesFichesFrais[index].Frais</th>
                <th class="modal_RDV_form">@mesFichesFrais[index].Forfait</th>
                <th class="modal_RDV_form">@mesFichesFrais[index].Libelle</th>
                <th class="modal_RDV_form">@mesFichesFrais[index].Montant</th>
            </tr>
                }
            }
        </tbody>
    </table>
</div>

